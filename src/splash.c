/* splash.c */
/* Title screen functions */

#include "splash.h"

void splash_init_titles(char*** titles)
{
	/* Thanks to http://patorjk.com/software/taag/ for the beautiful ASCII art */
	char* tmp[TITLE_COUNT] = {
"  _____             _                _   _\n\
 / ____|           | |              | | | |\n\
| (___   ___   ___ | |__  _ __   ___| |_| |_ ___ _ __\n\
 \\___ \\ / _ \\ / _ \\| '_ \\| '_ \\ / _ \\ __| __/ _ \\ '__|\n\
 ____) | (_) | (_) | |_) | | | |  __/ |_| ||  __/ |   \n\
|_____/ \\___/ \\___/|_.__/|_| |_|\\___|\\__|\\__\\___|_|",

" ___  _____  _____  ____  _  _  ____  ____  ____  ____  ____\n\
/ __)(  _  )(  _  )(  _ \\( \\( )( ___)(_  _)(_  _)( ___)(  _ \\\n\
\\__ \\ )(_)(  )(_)(  ) _ < )  (  )__)   )(    )(   )__)  )   /\n\
(___/(_____)(_____)(____/(_)\\_)(____) (__)  (__) (____)(_)\\_)",

/* Longer than 509 characters. Will likely compile. Worst case: remove this */
"   .---.  .---.   .---.  ,---.   .-. .-.,---. _______  _______ ,---.  ,---.\n\
  ( .-._)/ .-. ) / .-. ) | .-.\\  |  \\| || .-'|__   __||__   __|| .-'  | .-.\\\n\
 (_) \\   | | |(_)| | |(_)| |-' \\ |   | || `-.  )| |     )| |   | `-.  | `-'/\n\
 _  \\ \\  | | | | | | | | | |--. \\| |\\  || .-' (_) |    (_) |   | .-'  |   (\n\
( `-'  ) \\ `-' / \\ `-' / | |`-' /| | |)||  `--. | |      | |   |  `--.| |\\ \\\n\
 `----'   )---'   )---'  /( `--' /(  (_)/( __.' `-'      `-'   /( __.'|_| \\)\\\n\
         (_)     (_)    (__)    (__)   (__)                   (__)        (__)",

" (\n\
)\\ )              )                  )    )\n\
(()/(           ( /(           (   ( /( ( /(   (   (\n\
/(_)) (    (   )\\())  (      ))\\  )\\()))\\()) ))\\  )(\n\
(_))   )\\   )\\ ((_)\\   )\\ )  /((_)(_))/(_))/ /((_)(()\\\n\
/ __| ((_) ((_)| |(_) _(_/( (_))  | |_ | |_ (_))   ((_)\n\
\\__ \\/ _ \\/ _ \\| '_ \\| ' \\))/ -_) |  _||  _|/ -_) | '_|\n\
|___/\\___/\\___/|_.__/|_||_| \\___|  \\__| \\__|\\___| |_|",

"  _   _   _   _   _   _   _   _   _   _\n\
 / \\ / \\ / \\ / \\ / \\ / \\ / \\ / \\ / \\ / \\\n\
( S | o | o | b | n | e | t | t | e | r )\n\
 \\_/ \\_/ \\_/ \\_/ \\_/ \\_/ \\_/ \\_/ \\_/ \\_/",

"  _________            ___.                  __    __\n\
 /   _____/ ____   ____\\_ |__   ____   _____/  |__/  |_  ___________\n\
 \\_____  \\ /  _ \\ /  _ \\| __ \\ /    \\_/ __ \\   __\\   __\\/ __ \\_  __ \\\n\
 /        (  <_> |  <_> ) \\_\\ \\   |  \\  ___/|  |  |  | \\  ___/|  | \\/\n\
/_______  /\\____/ \\____/|___  /___|  /\\___  >__|  |__|  \\___  >__|\n\
        \\/                  \\/     \\/     \\/                \\/",

"   _____             __               __  __\n\
  / ___/____  ____  / /_  ____  ___  / /_/ /____  _____\n\
  \\__ \\/ __ \\/ __ \\/ __ \\/ __ \\/ _ \\/ __/ __/ _ \\/ ___/\n\
 ___/ / /_/ / /_/ / /_/ / / / /  __/ /_/ /_/  __/ /    \n\
/____/\\____/\\____/_.___/_/ /_/\\___/\\__/\\__/\\___/_/",

" __   ___   ___   ___   _      ____ _____ _____  ____  ___\n\
( (` / / \\ / / \\ | |_) | |\\ | | |_   | |   | |  | |_  | |_)\n\
_)_) \\_\\_/ \\_\\_/ |_|_) |_| \\| |_|__  |_|   |_|  |_|__ |_| \\",

" __   __   __   __        ___ ___ ___  ___  __\n\
/__` /  \\ /  \\ |__) |\\ | |__   |   |  |__  |__)\n\
.__/ \\__/ \\__/ |__) | \\| |___  |   |  |___ |  \\",

" ____   __    __  ____  __ _  ____  ____  ____  ____  ____\n\
/ ___) /  \\  /  \\(  _ \\(  ( \\(  __)(_  _)(_  _)(  __)(  _ \\\n\
\\___ \\(  O )(  O )) _ (/    / ) _)   )(    )(   ) _)  )   /\n\
(____/ \\__/  \\__/(____/\\_)__)(____) (__)  (__) (____)(__\\_)",

"  _____  ___    ___   ____   ____     ___ ______  ______    ___  ____\n\
 / ___/ /   \\  /   \\ |    \\ |    \\   /  _]      ||      |  /  _]|    \\\n\
(   \\_ |     ||     ||  o  )|  _  | /  [_|      ||      | /  [_ |  D  )\n\
 \\__  ||  O  ||  O  ||     ||  |  ||    _]_|  |_||_|  |_||    _]|    / \n\
 /  \\ ||     ||     ||  O  ||  |  ||   [_  |  |    |  |  |   [_ |    \\\n\
 \\    ||     ||     ||     ||  |  ||     | |  |    |  |  |     ||  .  \\\n\
  \\___| \\___/  \\___/ |_____||__|__||_____| |__|    |__|  |_____||__|\\_|",

" _____         _           _   _\n\
|   __|___ ___| |_ ___ ___| |_| |_ ___ ___\n\
|__   | . | . | . |   | -_|  _|  _| -_|  _|\n\
|_____|___|___|___|_|_|___|_| |_| |___|_|",

" ____                    __                      __    __\n\
/\\  _`\\                 /\\ \\                    /\\ \\__/\\ \\__\n\
\\ \\,\\L\\_\\    ___     ___\\ \\ \\____    ___      __\\ \\ ,_\\ \\ ,_\\    __   _ __\n\
 \\/_\\__ \\   / __`\\  / __`\\ \\ '__`\\ /' _ `\\  /'__`\\ \\ \\/\\ \\ \\/  /'__`\\/\\`'__\\\n\
   /\\ \\L\\ \\/\\ \\L\\ \\/\\ \\L\\ \\ \\ \\L\\ \\/\\ \\/\\ \\/\\  __/\\ \\ \\_\\ \\ \\_/\\  __/\\ \\ \\/ \n\
   \\ `\\____\\ \\____/\\ \\____/\\ \\_,__/\\ \\_\\ \\_\\ \\____\\\\ \\__\\\\ \\__\\ \\____\\\\ \\_\\ \n\
    \\/_____/\\/___/  \\/___/  \\/___/  \\/_/\\/_/\\/____/ \\/__/ \\/__/\\/____/ \\/_/",

" ____ ____ ____ ____ ____ ____ ____ ____ ____ ____ \n\
||S |||o |||o |||b |||n |||e |||t |||t |||e |||r ||\n\
||__|||__|||__|||__|||__|||__|||__|||__|||__|||__||\n\
|/__\\|/__\\|/__\\|/__\\|/__\\|/__\\|/__\\|/__\\|/__\\|/__\\|"
	};

	*titles = (char**)malloc(sizeof(tmp));
	memcpy(*titles, tmp, sizeof(tmp));
}

void splash_show()
{
	int i, lineLen;
	char** titles;
	char verStr[8];

	/* Format title and app info and show random title art */
	splash_init_titles(&titles);
	srand(time(NULL));
	i = rand() % TITLE_COUNT;
	lineLen = strchr(titles[i], '\n') - titles[i];
	
	sprintf(verStr, "v%d.%d%d", APP_VER_MAJ, APP_VER_MIN, APP_VER_REV);
	printf("%s\n%s%*s\n\n", titles[i], verStr, (int)(lineLen-strlen(verStr)), APP_LEGAL);

	free(titles);
}